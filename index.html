<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content><meta name="keywords" content><meta name="author" content="Li"><meta name="copyright" content="Li"><title>Stateless</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  }
} </script></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="author-info"><div class="author-info__avatar text-center"><img src="https://s2.ax1x.com/2019/05/31/VQct4f.jpg"></div><div class="author-info__name text-center">Li</div><div class="author-info__description text-center"></div><div class="follow-button"><a href="https://github.com/LiZan00">Follow Me</a></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">æ–‡ç« </span><span class="pull-right">3</span></a></div></div></div><nav id="nav" style="background-image: url(https://s2.ax1x.com/2019/05/31/VQrml9.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">Stateless</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="site-info"><div id="site-title">Stateless</div><div id="site-sub-title"></div><div id="site-social-icons"><a class="social-icon" href="https://github.com/LiZan00"><i class="fa-github fa"></i></a><a class="social-icon" href="https://weibo.com/u/2102031094"><i class="fa-weibo fa"></i></a></div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2019/05/31/æ•°æ®åº“-æŸ¥è¯¢/">æ•°æ®åº“--æŸ¥è¯¢</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-05-31</time><div class="content"><h2 id="Review-å®Œæ•´æ€§çº¦æŸï¼Ÿï¼ˆé‡ç‚¹ï¼‰"><a href="#Review-å®Œæ•´æ€§çº¦æŸï¼Ÿï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="Review:å®Œæ•´æ€§çº¦æŸï¼Ÿï¼ˆé‡ç‚¹ï¼‰"></a>Review:å®Œæ•´æ€§çº¦æŸï¼Ÿï¼ˆé‡ç‚¹ï¼‰</h2><ul>
<li>ä¿è¯æ•°æ®åº“é‡Œçš„æ•°æ®ç¬¦åˆç°å®ä¸–ç•Œå®¢è§‚å­˜åœ¨çš„ä¸šåŠ¡é€»è¾‘ã€ä¸šåŠ¡è§„åˆ™é™åˆ¶çš„è§„åˆ™</li>
<li>åæ˜ ç°å®ä¸–ç•Œçš„é™åˆ¶ã€è§„åˆ™</li>
<li>å¦‚äººçš„å¹´é¾„&gt;0</li>
<li>ä½“ç°åˆ°æ•°æ®åº“ä¸­ï¼Œå¯¹æ•°æ®åº“ä¸­æ•°æ®çš„æ”¹éƒ½è¦ç»è¿‡è¿™äº›è§„åˆ™çš„æ£€æŸ¥ï¼Œä»¥ä¾¿åœ¨æŸ¥çš„æ—¶å€™ä¸ç”¨è¿›è¡Œæ£€æŸ¥</li>
</ul>
<h2 id="SQL"><a href="#SQL" class="headerlink" title="SQL"></a>SQL</h2><ul>
<li>ä¸€ä¸ªè¯­è¨€è§„èŒƒï¼Œæœ€å…ˆç”±IBMæå‡º</li>
<li><strong>æ•°æ®åº“è¯­è¨€çš„åŒ…å«éƒ¨åˆ†ï¼šå®šä¹‰æ•°æ®åº“å¯¹è±¡ï¼ˆDDLï¼‰ã€å¯¹æ•°æ®è¿›è¡Œæ“ä½œï¼ˆDMLï¼‰</strong></li>
<li>1970å¹´IBMæå‡ºå…³ç³»å‹æ•°æ®åº“ï¼Œç ”å‘System R</li>
</ul>
<h3 id="DDLè¯­å¥ï¼ˆå¯¹æ•°æ®æ¨¡å¼çš„æ“çºµï¼‰"><a href="#DDLè¯­å¥ï¼ˆå¯¹æ•°æ®æ¨¡å¼çš„æ“çºµï¼‰" class="headerlink" title="DDLè¯­å¥ï¼ˆå¯¹æ•°æ®æ¨¡å¼çš„æ“çºµï¼‰"></a>DDLè¯­å¥ï¼ˆå¯¹æ•°æ®æ¨¡å¼çš„æ“çºµï¼‰</h3><h4 id="åˆ›å»º"><a href="#åˆ›å»º" class="headerlink" title="åˆ›å»º"></a>åˆ›å»º</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">create table department</span><br><span class="line">(dept_name varchar(20),</span><br><span class="line">â€”-ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œç›´æ¥primary keyï¼Œä½†è¿™ç§æ–¹å¼åªèƒ½å®šä¹‰ä¸€ä¸ªå±æ€§ï¼Œå¤šæ¬¡ä»–ä¼šä»¥ä¸ºä½ å®šä¹‰äº†ä¸¤ä¸ªä¸»ç </span><br><span class="line">building varchar(15),</span><br><span class="line">- - budget numeric(12,2),</span><br><span class="line">primary key(dept_name));</span><br><span class="line">â€”-è¦åŒæ—¶å®šä¹‰å¤šä¸ªå±æ€§ä½œä¸ºä¸»ç ï¼Œå¯ä»¥åœ¨æ‹¬å·é‡ŒåŒ…å«å¤šä¸ª</span><br></pre></td></tr></table></figure>

<ul>
<li>Charä¸varchar</li>
</ul>
<h4 id="é”€æ¯"><a href="#é”€æ¯" class="headerlink" title="é”€æ¯"></a>é”€æ¯</h4><p><code>drop table r;</code><br>é”€æ¯æ•´ä¸ªè¡¨ï¼ˆå…³ç³»ï¼‰</p>
<h4 id="æ›´æ”¹"><a href="#æ›´æ”¹" class="headerlink" title="æ›´æ”¹"></a>æ›´æ”¹</h4><p><code>alter table r;</code></p>
<h3 id="DMLï¼ˆå¯¹å…ƒç»„çš„æ“çºµï¼‰"><a href="#DMLï¼ˆå¯¹å…ƒç»„çš„æ“çºµï¼‰" class="headerlink" title="DMLï¼ˆå¯¹å…ƒç»„çš„æ“çºµï¼‰"></a>DMLï¼ˆå¯¹å…ƒç»„çš„æ“çºµï¼‰</h3><h4 id="Insert"><a href="#Insert" class="headerlink" title="Insert"></a>Insert</h4><ul>
<li>Not nullçº¦æŸ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">insert into instructor</span><br><span class="line">	values(10211,â€™Smithâ€™,â€™Biologyâ€˜ï¼Œ66000ï¼‰ï¼›</span><br></pre></td></tr></table></figure>

<h4 id="Update"><a href="#Update" class="headerlink" title="Update"></a>Update</h4><p><code>delete from student;</code></p>
<h4 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h4><p><code>delete from r;</code></p>
<h3 id="SQLçš„é‡ç‚¹"><a href="#SQLçš„é‡ç‚¹" class="headerlink" title="SQLçš„é‡ç‚¹"></a>SQLçš„é‡ç‚¹</h3><ol>
<li>ä»»ä½•çš„å…³ç³»æ“ä½œï¼Œå…¶è¾“å…¥å’Œè¾“å‡ºéƒ½æ˜¯å…³ç³»ï¼ˆè¡¨ï¼‰</li>
<li>ä¸åŒºåˆ†å¤§å°å†™ï¼Œä¸”å­å¥clauseçš„å‡ºç°é¡ºåºç¡®å®š</li>
</ol>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Select</span><br><span class="line">From</span><br><span class="line">Where</span><br><span class="line">Group by</span><br><span class="line">Having</span><br><span class="line">Order by</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Selectå†…éƒ¨è¿ç®—çš„é€»è¾‘ï¼ˆé‡ç‚¹ï¼‰<br>From-where-group by-having-select-order by</li>
</ol>
<h3 id="å­å¥ï¼ˆæŒ‰è¿ç®—é€»è¾‘é¡ºåºï¼‰"><a href="#å­å¥ï¼ˆæŒ‰è¿ç®—é€»è¾‘é¡ºåºï¼‰" class="headerlink" title="å­å¥ï¼ˆæŒ‰è¿ç®—é€»è¾‘é¡ºåºï¼‰"></a>å­å¥ï¼ˆæŒ‰è¿ç®—é€»è¾‘é¡ºåºï¼‰</h3><p>é—®é¢˜ï¼šæ€ä¹ˆç¡®å®šä¸¤ä¸ªå±æ€§å€¼ä¹‹é—´çš„å¯¹åº”å…³ç³»ï¼Ÿ</p>
<h4 id="ç»¼è¿°"><a href="#ç»¼è¿°" class="headerlink" title="ç»¼è¿°"></a>ç»¼è¿°</h4><ul>
<li>å¦‚ä½•æŠŠä¸¤ç»„è¡Œç»„åˆæˆä¸€è¡Œï¼Ÿ-&gt;fromè¯­å¥    </li>
<li>Where:è¿‡æ»¤ï¼Œå¤„ç†çš„æ˜¯è¡Œï¼Œæ¨ªå‘æ“ä½œï¼ˆğŸŒ°ï¼šè¿‡æ»¤æ¯ä¸ªäºº</li>
<li>åˆ†ç»„ï¼ˆğŸŒ°ï¼šä»æ€»æˆç»©å•é‡Œåˆ†å‡ºæ¯ä¸ªç­çš„æˆç»©ï¼‰-&gt;<code>group by</code><ul>
<li>è¾“å‡ºç»“æœä»ç„¶æ˜¯è¡¨</li>
</ul>
</li>
<li>Having:è¿‡æ»¤ï¼Œå¤„ç†çš„æ˜¯åˆ†ç»„ï¼ˆğŸŒ°ï¼šè¿‡æ»¤ç­</li>
<li>Select:é€‰å–æƒ³çœ‹çš„å±æ€§ï¼ˆçºµå‘æ“ä½œï¼‰</li>
<li>Order byï¼šæ’åºï¼Œæ–¹ä¾¿äººæ¥çœ‹ï¼Œä»å…³ç³»æ¨¡å‹çš„è§’åº¦ï¼Œå¯¹é›†åˆæœ¬èº«æ²¡æœ‰æ„ä¹‰ï¼ˆæ— åºæ€§ï¼‰</li>
</ul>
<h4 id="è¿æ¥æ“ä½œ"><a href="#è¿æ¥æ“ä½œ" class="headerlink" title="è¿æ¥æ“ä½œ"></a>è¿æ¥æ“ä½œ</h4><ul>
<li>å¦‚æœæƒ³çœ‹å‘˜å·¥å§“åï¼Œåºå·ï¼Œæ‰€åœ¨åœ°ï¼Œæ‰€åœ¨åœ°åºå·ï¼Ÿ</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Select empno,ename,emp.DEPRNO,dept.DEPTNO,loc</span><br><span class="line">From emp,dept</span><br><span class="line">Where emp.DEPTNO==dept.DEPTNO </span><br><span class="line">â€”-éœ€è¦è®©å‘˜å·¥çš„éƒ¨é—¨å·å’Œéƒ¨é—¨å·åŒ¹é…ï¼Œç­›é€‰â€”â€”è¿æ¥æ“ä½œ</span><br><span class="line">â€”-ä½†è¿™ç§å†™æ³•æ¯”è¾ƒå¼Ÿå¼Ÿï¼Œwhereé‡Œçš„è¯­å¥å†—é•¿</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿æ¥æ“ä½œçš„æ­£ç¡®æ‰“å¼€æ–¹å¼ï¼Ÿ<br><code>from emp join dept on emp.deptno==dept.deptno</code></li>
<li>Joinï¼šäºŒå…ƒè¿ç®—ç¬¦ï¼Œé€æ¬¡è¿æ¥ï¼Œè¾“å…¥è¾“å‡ºéƒ½æ˜¯è¡¨</li>
<li>å¯¹åŒä¸€ä¸ªè¡¨ä¸­çš„ä¸¤ä¸ªå±æ€§åšè¿æ¥æ“ä½œï¼Ÿ-&gt;èµ·åˆ«åï¼Œç±»ä¼¼äºc++ä¸­çš„å¼•ç”¨<br>`from emp join dept on <pre><code>* </code></pre>Select+è¡¨è¾¾å¼ï¼Œå¯ä»¥æ˜¯å¸¸æ•°ã€å­—ç¬¦ä¸²ã€å˜é‡ç­‰ç­‰<br>Ename like â€˜ â€™<br>___L%<br>A%<br>%EN<br>Escape:æ ‡è¯†è½¬ä¹‰å­—ç¬¦<br><code>where ename like â€˜%Q% escape â€˜Qâ€™;</code><br>æ—¥æœŸç±»å‹çš„å€¼å¯ä»¥è¿›è¡Œå¤§å°æ¯”è¾ƒ<br>Where:åˆ°è¿™ä¸€è¡Œï¼Œåˆ¤æ–­å€¼ä¸ºçœŸï¼Œè¿™ä¸€è¡Œå°±ä¿ç•™<br>å ä½ç¬¦ï¼š2=2æˆ–è€…1=1ï¼Œå¦åˆ™æŸ¥è¯¢å¹¶ä¸”ã€æˆ–è€…ã€ä¸å«æ—¶å•ä¸€çš„andã€Orç­‰äºŒå…ƒç”¨ä¸äº†ï¼Œé™¤éç”¨ä¹‹å‰è¿›è¡Œåˆ¤æ–­<br>Select * from emp<br>åˆ¤æ–­null: where comm is null<br>ä¸ä¸ºnull:where comm is not null<br>selecté‡Œé¢æ˜¯è¡¨è¾¾å¼<br>èšé›†å‡½æ•°ï¼šåˆ†ç»„çš„æ€§è´¨,è¿ç®—æ—¶å¿½ç•¥null<br>Count(1)  ç”Ÿæˆ<br>ä¸è¦éšä¾¿ç”¨count(*)æ¥åšåˆ†æ¯ï¼Œå‡†ç¡®çš„å¹³å‡æ•°æ˜¯avg() å› ä¸ºnull</li>
<li>Distictçš„ä½œç”¨ï¼šå»æ‰é‡å¤è¡Œï¼Œå†™ä¸€ä¸ªå°±è¡Œ<br><code>select distinct job from emp</code><br><code>count(distinct job)</code></li>
<li>æ‰€æœ‰çš„å±æ€§éƒ½æ¥è‡ªäºåŸå­åŸŸï¼Œä¸€ä¸ªè¡Œé‡Œé¢çš„å±æ€§ä¸€å®šæ˜¯ä¸å¯å†åˆ†çš„<br>ä¸¤ç±»ï¼šç”¨äºåˆ†ç»„çš„å±æ€§ï¼Œèšé›†å‡½æ•°è¿™ç±»çš„å±æ€§</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Select dname,emp.deptno,avg(sal) avgsal</span><br><span class="line">â€”-selectåä¸€å®šæ˜¯åˆ†ç»„å±æ€§ï¼ŒåŸå­çš„,å³ä¸èƒ½æœ‰ä¸€å¯¹å¤š</span><br><span class="line">From emp join dept on emp.deptno=dept.deptno</span><br><span class="line">Group by dname,emp.deptno</span><br></pre></td></tr></table></figure>

<ul>
<li>Where+ç­‰å€¼è¿æ¥ï¼šå¯èƒ½å¯¼è‡´ï¼Œæ²¡æœ‰empçš„deptä¸ä¼šå‡ºç°åœ¨æœ€åçš„è¡¨é‡Œ<ul>
<li>ä¸€ä¸ªè¿æ¥ï¼Œå®é™…ä¸Šå°±æ˜¯ä¸€æ¬¡å…³ç³»è¿ç®—ï¼ŒæŠŠä¸¤ä¸ªå…³ç³»åˆå¹¶ä¸ºä¸€ä¸ªå…³ç³»ï¼Œå®ƒåˆå¯ä»¥ä½œä¸ºä¸‹ä¸€ä¸ªè¿ç®—çš„è¾“å…¥</li>
<li>æ€ä¹ˆå¾—åˆ°æ‰€æœ‰éƒ¨é—¨ï¼Ÿâ€”â€”joinçš„ç”¨æ³•<ul>
<li>(Inner)Joinï¼šå†…è¿æ¥ï¼Œä»…æœ‰æ»¡è¶³è¿æ¥æ¡ä»¶çš„è¾“å‡ºç»“æœæ‰ä¿ç•™åœ¨è¡¨ä¸­ </li>
<li>å¤–è¿æ¥ï¼šé™„åŠ éœ€è¦ä¿ç•™çš„ï¼Œæ²¡æœ‰æ»¡è¶³è¿æ¥æ¡ä»¶çš„è¡Œ<br><code>from emp right join dept on emp.deptno=dept.deptno</code><br>é—®é¢˜ï¼šæ²¡æœ‰å‘˜å·¥ï¼ŒCount(*)è¾“å‡ºä¸º1<br>è§£å†³ï¼šåˆ©ç”¨èšé›†å‡½æ•°å¿½ç•¥NULLï¼Œcount(å‘˜å·¥çš„ä¸»ç )<pre><code>â€”â€”count(*)ä¸èƒ½ç”¨äºç»Ÿè®¡äººæ•°</code></pre><ul>
<li>å¦‚æœå·¦å³éƒ½æƒ³ä¿ç•™å‘¢ï¼Ÿ<code>full join</code></li>
</ul>
</li>
</ul>
</li>
<li><code>where emp.deptno in (10,30)</code><ul>
<li>In:æ£€æŸ¥æˆå‘˜å­˜åœ¨æ€§ï¼Œåå¯ä»¥è·Ÿä¸€ä¸ªé›†åˆ</li>
</ul>
</li>
<li><code>where sal between 2000 and 5000</code>é—­åŒºé—´ </li>
</ul>
</li>
<li>Havingï¼šè¿‡æ»¤åˆ†ç»„é›†åˆé‡Œé¢çš„è¡Œï¼Œå¤„ç†çš„æ˜¯åˆ†ç»„çš„å±æ€§<br><strong>é€»è¾‘è¿ç®—é¡ºåºå¾ˆé‡è¦</strong><br>âŒğŸŒ°ï¼š</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Select avg(sal) avgsal</span><br><span class="line">â€¦â€¦</span><br><span class="line">Having avgsal&gt;2000</span><br></pre></td></tr></table></figure>

<p>é”™è¯¯åŸå› ï¼šselecté€»è¾‘ä¸Šåœ¨havingåé¢<br>è§£å†³æ–¹æ¡ˆï¼š<code>having avg(sal)&gt;2000</code></p>
<ul>
<li>Order by<br>é™åºï¼š<code>order by hiredate desc</code><br><code>order by deptno,sal desc</code>deptå‡åºï¼Œsalé™åºï¼Œé€—å·åˆ†ç¦»çš„æ˜¯æ’åºé¡¹ï¼Œæ˜¯è¡¨è¾¾å¼ï¼Œå¯ä»¥è¿›è¡Œè¿ç®—æ“ä½œ<br>çœç•¥å°±ç›¸å½“äºascå‡åº<br>Ascend descend</li>
<li>æ‰¾åˆ°æ²¡æœ‰ä»»ä½•å‘˜å·¥çš„éƒ¨é—¨?<code>select dept.deptno</code></li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Select deptno from dept</span><br><span class="line">Exceptâ€”-è¿›è¡Œé›†åˆè¿ç®—æ—¶ï¼Œä¼šè‡ªåŠ¨è¿›è¡Œå»é‡è¿ç®—</span><br><span class="line">Select deptno from emp</span><br></pre></td></tr></table></figure>

<p>é›†åˆè¿ç®—ï¼šè¦ä¿è¯ä¸¤ä¸ªselectçš„åˆ—æ˜¯ä¸€æ ·çš„ï¼Œå¹¶ä¸”åœ¨å¯¹åº”ä½ç½®ä¸Šçš„åˆ—ç±»å‹å…¼å®¹ï¼Œæœ€ç»ˆçš„åå­—å–å†³äºç¬¬ä¸€ä¸ªçš„åå­—<br><code>Union all</code>ä¸å»é‡å¤<code>union</code>è‡ªåŠ¨å»é‡<br>    * ç¬¬äºŒç§åŠæ³•ï¼šä»å‘˜å·¥è§’åº¦çœ‹ï¼Œâ€œæ²¡æœ‰å‡ºç°è¿‡â€`</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Select dname</span><br><span class="line">From dept</span><br><span class="line">where deptno not in (select deptno from emp)</span><br></pre></td></tr></table></figure>

<p>Nullä»£è¡¨æœªçŸ¥ï¼Œå› æ­¤not in (10,30,null)ä¸èƒ½è¾“å‡º20<br>Not inä¸èƒ½å¤„ç†null</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€”æ²¡æœ‰å‘˜å·¥çš„éƒ¨é—¨</span><br><span class="line">Select dname</span><br><span class="line">From dept</span><br><span class="line">Where deptno not in(select deptno from emp where deptno is not null)</span><br></pre></td></tr></table></figure>

<p>Isnullå‡½æ•°ï¼šå¯¹äºnullçš„å¤„ç†<br><code>select isnull(comm,0) from emp</code><br>ç±»å‹è½¬æ¢<code>select isnull(cast(comm as varchar),â€™æ— â€™)from</code><br>Nullä¹Ÿæ˜¯æœ‰ç±»å‹çš„<br>å­æŸ¥è¯¢ï¼šä¸€ä¸ªæŸ¥è¯¢åµŒå¥—åœ¨å¦ä¸€ä¸ªæŸ¥è¯¢é‡Œ</p>
<h4 id="ä¸ç›¸å…³å­æŸ¥è¯¢"><a href="#ä¸ç›¸å…³å­æŸ¥è¯¢" class="headerlink" title="ä¸ç›¸å…³å­æŸ¥è¯¢"></a>ä¸ç›¸å…³å­æŸ¥è¯¢</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€”å­æŸ¥è¯¢å¯ç›´æ¥è¿è¡Œ</span><br><span class="line">Select dname</span><br><span class="line">From dept</span><br><span class="line">Where deptno in(Select deptno from emp</span><br><span class="line">Group by deptno</span><br><span class="line">Having count(empno)&gt;3)</span><br></pre></td></tr></table></figure>

<h4 id="ç›¸å…³å­æŸ¥è¯¢"><a href="#ç›¸å…³å­æŸ¥è¯¢" class="headerlink" title="ç›¸å…³å­æŸ¥è¯¢"></a>ç›¸å…³å­æŸ¥è¯¢</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€”å­æŸ¥è¯¢ä¸èƒ½ç›´æ¥è¿è¡Œ</span><br><span class="line">â€”åŸå› ï¼šæ‰§è¡Œè¿‡ç¨‹ä¸åŒ</span><br><span class="line">Select dname</span><br><span class="line">From dept</span><br><span class="line">Where(select count(*) from emp</span><br><span class="line">		Where emp,deptno=dept.deptno)&gt;3</span><br><span class="line">â€”å†…éƒ¨æŸ¥è¯¢åŒ…å«äº†ä¸€ä¸ªå¤–éƒ¨æ•°æ®æºdeptï¼Œåªåœ¨å¤–éƒ¨æŸ¥è¯¢å‡ºç°ï¼Œå†…éƒ¨æ²¡æœ‰å‡ºç°</span><br><span class="line">		)</span><br></pre></td></tr></table></figure>

<p>ç›¸å…³å­æŸ¥è¯¢çš„è¿‡ç¨‹ï¼šä»å¤–éƒ¨æŸ¥è¯¢å¼€å§‹ å¯¹äºæ¯ä¸€è¡Œæ‰§è¡Œå†…éƒ¨æŸ¥è¯¢</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Select ename,sal</span><br><span class="line">From emp</span><br><span class="line">Where(deptno in(select deptno from emp</span><br><span class="line">					group by deptno</span><br><span class="line">					having avg(sal)&gt;1500)</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Select ename,sal</span><br><span class="line">From emp t</span><br><span class="line">Where(select avg(Sal) from emp</span><br><span class="line">		where deptno=t.deptno)&gt;1500</span><br></pre></td></tr></table></figure>

<p>Anyä¸é›†åˆä¸­æ‰€æœ‰å…ƒç´ æ¯”è¾ƒï¼Œåªè¦æœ‰ä¸€ä¸ªæ»¡è¶³æ¡ä»¶å°±è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€”-åœ¨å¹³å‡å·¥èµ„&gt;1500çš„éƒ¨é—¨å·¥ä½œçš„å‘˜å·¥çš„å§“åã€å·¥èµ„å’Œä»–æ‰€åœ¨éƒ¨é—¨çš„å¹³å‡å·¥èµ„</span><br><span class="line">â€”-å‡è®¾æœ‰ä¸€ä¸ªtè¡¨ç¤ºéƒ¨é—¨ç¼–å·å’Œéƒ¨é—¨å¹³å‡å·¥èµ„</span><br><span class="line">Select ename,sal,t.avg(sal)</span><br><span class="line">From emp join t on emp.deptno=t.deptno</span><br><span class="line">Where emp.deptno in (select deptno from emp</span><br><span class="line">						group by deptno</span><br><span class="line">						having avg(sal)&gt;1500)</span><br><span class="line">â€”-????å­æŸ¥è¯¢åœ¨fromé‡Œï¼Œåªå¯èƒ½æ˜¯ä¸ç›¸å…³çš„ï¼šfromé‡Œçš„éƒ½å·²ç»æ˜¯ç¡®å®šçŠ¶æ€çš„äº†</span><br><span class="line">Select ename,sal,t.avlsal</span><br><span class="line">From emp join (select deptno,avg(sal) avgsal</span><br><span class="line">				from emp</span><br><span class="line">				group by deptno</span><br><span class="line">				having avg(sal)&gt;2500) t</span><br><span class="line">â€”-	è¿æ¥æœ¬è´¨ä¸Šå…·æœ‰è¿‡æ»¤ä½œç”¨</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">With t as()</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€”-éƒ¨é—¨çš„å¹³å‡å·¥èµ„ æ‰€å¤„èŒä½å¹³å‡å·¥èµ„</span><br><span class="line">With t as(select deptno,avg(sal) avgsal</span><br><span class="line">				from emp</span><br><span class="line">				group by deptno</span><br><span class="line">				having avg(sal&gt;2500) </span><br><span class="line">,t2 as(select job,avg(sal) avgsal</span><br><span class="line">				from emp</span><br><span class="line">				group by job</span><br><span class="line">				having avg(sal)&gt;2500) </span><br><span class="line">Select ename,sal,t.avg(sal),p.avg(sal)</span><br><span class="line">From emp join t on emp.deptno=t.deptno </span><br><span class="line">			join t2 on emp.job=t2.job</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â€”-ç›¸å…³å­æŸ¥è¯¢ï¼šä»ç»“æœå‡ºå‘</span><br><span class="line">Select ename,sal,(select avg(sal) from emp</span><br><span class="line">					where deptno=t.deptno) deptsal</span><br><span class="line">,(select avg(sal) from emp</span><br><span class="line">	where job=t.job) jobsal</span><br><span class="line">From emp t</span><br><span class="line">â€”-æ ‡é‡å­æŸ¥è¯¢</span><br><span class="line">â€”-æ‰€æœ‰å‘˜å·¥éƒ½éœ€è¦ï¼Œæ‰€ä»¥æ²¡æœ‰whereä¸group by</span><br><span class="line">â€”-å¯¹å¤–é¢æ¯ä¸€è¡Œï¼Œéƒ½ä¼šæ‰§è¡Œç›¸å…³å­æŸ¥è¯¢</span><br><span class="line">â€”-ç›¸å…³å­æŸ¥è¯¢å¯ä»¥ç”¨äºwhere,select,fromï¼Œhaving,</span><br><span class="line">â€”-selectä¸­ç›¸å…³å­æŸ¥è¯¢çš„ç»“æœä¸èƒ½æ˜¯ä¸€ä¸ªé›†åˆï¼Œåªèƒ½æ˜¯ä¸€ä¸ªå€¼ï¼ˆåŸå› ï¼šåŸå­å€¼ ç±»ä¼¼group byåé¢çš„</span><br></pre></td></tr></table></figure>

<p>Exists()åˆ¤æ–­å‡½æ•°æ˜¯ä¸æ˜¯ç©ºé›†</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Select dname from dept</span><br><span class="line">Where exists(select * from emp where deptno=dept.deptno)</span><br><span class="line">â€”-æŸ¥æ‰¾æœ‰éƒ¨é—¨çš„å‘˜å·¥</span><br><span class="line">Not exists()æŸ¥æ‰¾æ²¡æœ‰éƒ¨é—¨çš„å‘˜å·¥</span><br></pre></td></tr></table></figure>

<p>Update<br>Delete<br>Insert<br>Create<br>Select * into emp_new from emp<br>å¯ä»¥ç”¨åœ¨ddlè¯­å¥é‡Œ</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/05/30/My-New-Post/">My New Post</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-05-30</time><div class="content"></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2019/05/30/hello-world/">Hello World</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2019-05-30</time><div class="content"><p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
</div><hr></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://s2.ax1x.com/2019/05/31/VQrml9.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2019 By Li</div><div class="framework-info"><span>é©±åŠ¨ - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>ä¸»é¢˜ - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script></body></html>